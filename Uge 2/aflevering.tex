\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[danish]{babel}
\usepackage{amsmath,amssymb,amsthm}
\usepackage{listings}
\lstloadlanguages{C}
\lstset{language=C}
\setlength{\parindent}{0in}
\setlength{\parskip}{0.1in}

\newcommand{\imul}{\texttt{imul}}

\newtheorem{theorem}{Sætning}

\title{Computere og Netværk (Q2/2010)}
\author{Mathias Rav, 20103940 \\
		Michael Søndergaard, 20104223 \\
		DAT-3}
\date{Uge 2, 14.\ november 2010}

\begin{document}
\maketitle

\section{Corrected version of \imul{} in C}

\begin{lstlisting}
int imul(int x, int y)
{ 
  int r; 
  int sign;
    
  sign = 1;
  if ( x < 0 ) {
    x = -x;
    sign = 0;
  }

  r = 0;
  while ( x > 0 ) {
    x = x - 1;
    r = r + y;
  }

  if ( sign == 0 ) r = -r;

  return r;
}
\end{lstlisting}

\section{Corrected \imul{} in IJVM}

\lstset{language=JVMIS}
\begin{lstlisting}
.define newimul
	bipush 5
	bipush 2
	iadd
	ireturn

\end{lstlisting}

\end{document}
